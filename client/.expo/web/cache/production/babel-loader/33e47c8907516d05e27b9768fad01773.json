{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Modal from\"react-native-web/dist/exports/Modal\";import{React,useState}from\"react\";import Loading from\"../components/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddItem(_ref){var show=_ref.show,changeshowmodal=_ref.changeshowmodal,items_chg=_ref.items_chg,collection=_ref.collection,navigation=_ref.navigation;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],name_chg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),desc=_useState4[0],desc_chg=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),load=_useState6[0],load_chg=_useState6[1];var add_item_submit=function _callee2(name,desc,collection){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:load_chg(true);_context2.next=3;return _regeneratorRuntime.awrap(fetch(\"http://192.168.0.158:3000/item/\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,description:desc,id:collection.id})}).then(function _callee(response){var res;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(response.json());case 2:res=_context.sent;if(res.message==\"Success\"){name_chg(\"\");desc_chg(\"\");navigation.navigate(\"ViewCollection\",{collection:collection});}else if(res.message==\"Fail\")console.log(\"Fail\");case 4:case\"end\":return _context.stop();}}},null,null,null,Promise);}).catch(function(error){console.error(error);}));case 3:changeshowmodal(false);load_chg(false);case 5:case\"end\":return _context2.stop();}}},null,null,null,Promise);};return _jsxs(Modal,{visible:show,style:styles.modalcontainer,animationType:\"slide\",children:[load==true?_jsx(Loading,{}):null,_jsxs(View,{style:styles.modalform,children:[_jsx(Text,{style:styles.header,children:\"Add Item\"}),_jsx(TextInput,{style:styles.text_box,placeholder:\"Item name\",defaultValue:name,onChangeText:function onChangeText(new_name){return name_chg(new_name);}}),_jsx(TextInput,{style:styles.text_box,defaultValue:desc,onChangeText:function onChangeText(new_desc){return desc_chg(new_desc);},placeholder:\"Item description\"}),_jsxs(View,{style:styles.btncontainer,children:[_jsx(TouchableOpacity,{style:styles.Sign_in_btn,onPress:function onPress(){return changeshowmodal(false);},children:_jsx(Text,{style:styles.btn_label,children:\"Cancel\"})}),_jsx(TouchableOpacity,{style:styles.Sign_in_btn,onPress:function onPress(){return add_item_submit(name,desc,collection,navigation);},children:_jsx(Text,{style:styles.btn_label,children:\"Add\"})})]})]})]});}var styles=StyleSheet.create({modalcontainer:{},modalform:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",marginTop:250},header:{fontSize:20},text_box:{backgroundColor:\"#f5f5f5\",color:\"#000\",borderRadius:10,height:45,padding:10,margin:10,fontSize:16,width:300},btncontainer:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",width:300},Sign_in_btn:{backgroundColor:\"#a5a5a5\",height:50,width:130,margin:3,marginLeft:\"auto\",marginRight:\"auto\",borderRadius:15,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btn_label:{fontWeight:\"bold\",fontSize:15,color:\"#fff\"}});","map":{"version":3,"names":["React","useState","Loading","AddItem","show","changeshowmodal","items_chg","collection","navigation","name","name_chg","desc","desc_chg","load","load_chg","add_item_submit","fetch","method","headers","Accept","body","JSON","stringify","description","id","then","response","json","res","message","navigate","console","log","catch","error","styles","modalcontainer","modalform","header","text_box","new_name","new_desc","btncontainer","Sign_in_btn","btn_label","StyleSheet","create","display","flexDirection","alignItems","marginTop","fontSize","backgroundColor","color","borderRadius","height","padding","margin","width","justifyContent","marginLeft","marginRight","fontWeight"],"sources":["/home/panda/Desktop/Clients/Jaja or Junior/android-expo-app/client/components/AddItem.js"],"sourcesContent":["import {\n  StyleSheet,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  Modal,\n} from \"react-native\";\nimport { React, useState } from \"react\";\nimport Loading from \"../components/Loading\";\n\nexport default function AddItem({\n  show,\n  changeshowmodal,\n  items_chg,\n  collection,\n  navigation,\n}) {\n  const [name, name_chg] = useState(\"\");\n  const [desc, desc_chg] = useState(\"\");\n  const [load, load_chg] = useState(false);\n\n  const add_item_submit = async (name, desc, collection) => {\n    load_chg(true);\n\n    await fetch(\"http://192.168.0.158:3000/item/\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        description: desc,\n        id: collection.id,\n      }),\n    })\n      .then(async (response) => {\n        let res = await response.json();\n        if (res.message == \"Success\") {\n          name_chg(\"\");\n          desc_chg(\"\");\n          navigation.navigate(\"ViewCollection\", { collection });\n        } else if (res.message == \"Fail\") console.log(\"Fail\");\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n\n    changeshowmodal(false);\n    load_chg(false);\n  };\n  return (\n    <Modal visible={show} style={styles.modalcontainer} animationType=\"slide\">\n      {load == true ? <Loading /> : null}\n\n      <View style={styles.modalform}>\n        <Text style={styles.header}>Add Item</Text>\n        <TextInput\n          style={styles.text_box}\n          placeholder=\"Item name\"\n          defaultValue={name}\n          onChangeText={(new_name) => name_chg(new_name)}\n        />\n        <TextInput\n          style={styles.text_box}\n          defaultValue={desc}\n          onChangeText={(new_desc) => desc_chg(new_desc)}\n          placeholder=\"Item description\"\n        />\n        <View style={styles.btncontainer}>\n          <TouchableOpacity\n            style={styles.Sign_in_btn}\n            onPress={() => changeshowmodal(false)}\n          >\n            <Text style={styles.btn_label}>Cancel</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.Sign_in_btn}\n            onPress={() => add_item_submit(name, desc, collection, navigation)}\n          >\n            <Text style={styles.btn_label}>Add</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  modalcontainer: {},\n  modalform: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: 250,\n  },\n  header: {\n    fontSize: 20,\n  },\n  text_box: {\n    backgroundColor: \"#f5f5f5\",\n    color: \"#000\",\n    borderRadius: 10,\n    height: 45,\n    padding: 10,\n    margin: 10,\n    fontSize: 16,\n    width: 300,\n  },\n  btncontainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    width: 300,\n  },\n  Sign_in_btn: {\n    backgroundColor: \"#a5a5a5\",\n    height: 50,\n    width: 130,\n    margin: 3,\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    borderRadius: 15,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  btn_label: {\n    fontWeight: \"bold\",\n    fontSize: 15,\n    color: \"#fff\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}