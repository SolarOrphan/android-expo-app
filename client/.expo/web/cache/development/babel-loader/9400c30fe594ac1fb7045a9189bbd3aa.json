{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { React, useEffect, useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar logo = require(\"../assets/img/logo.png\");\n\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      username_chg = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      password_chg = _useState4[1];\n\n  var login_submit = function _callee2(username, password) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(fetch(\"http://192.168.0.158:3000/user/login\", {\n              method: \"POST\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                username: username,\n                password: password\n              })\n            }).then(function _callee(response) {\n              var res;\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return _regeneratorRuntime.awrap(response.json());\n\n                    case 2:\n                      res = _context.sent;\n\n                      if (!(res.message == \"Success\")) {\n                        _context.next = 16;\n                        break;\n                      }\n\n                      _context.prev = 4;\n                      _context.next = 7;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem('@user_id', res.data.id));\n\n                    case 7:\n                      username_chg(\"\");\n                      password_chg(\"\");\n                      navigation.navigate(\"Dashboard\");\n                      _context.next = 14;\n                      break;\n\n                    case 12:\n                      _context.prev = 12;\n                      _context.t0 = _context[\"catch\"](4);\n\n                    case 14:\n                      _context.next = 17;\n                      break;\n\n                    case 16:\n                      if (res.message == \"Fail\") console.log(\"Fail\");\n\n                    case 17:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, [[4, 12]], Promise);\n            }).catch(function (error) {\n              console.error(error);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var storage_userid = function _callee3() {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"@user_id\"));\n\n            case 3:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n              return _context3.abrupt(\"return\", null);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    };\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.top_section,\n      children: _jsx(Image, {\n        source: logo,\n        style: styles.logo\n      })\n    }), _jsxs(View, {\n      style: styles.bottom_section,\n      children: [_jsx(Text, {\n        style: styles.header,\n        children: \"LOGIN\"\n      }), _jsx(Text, {\n        style: styles.msg,\n        children: \"Please enter your login detail down below.\"\n      }), _jsx(TextInput, {\n        style: styles.text_box,\n        placeholder: \"Username\",\n        defaultValue: username,\n        onChangeText: function onChangeText(new_username) {\n          return username_chg(new_username);\n        }\n      }), _jsx(TextInput, {\n        style: styles.text_box,\n        placeholder: \"Passowrd\",\n        defaultValue: password,\n        onChangeText: function onChangeText(new_password) {\n          return password_chg(new_password);\n        },\n        secureTextEntry: true\n      }), _jsx(TouchableOpacity, {\n        style: styles.Sign_in_btn,\n        onPress: function onPress() {\n          return login_submit(username, password);\n        },\n        children: _jsx(Text, {\n          style: styles.btn_label,\n          children: \"LOGIN\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.Sign_in_btn,\n        onPress: function onPress() {\n          return navigation.navigate(\"CreateAccount\");\n        },\n        children: _jsx(Text, {\n          style: styles.btn_label,\n          children: \"CREATE ACCOUNT\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.forgot_btn,\n        children: _jsx(Text, {\n          style: styles.forgot_btn_label,\n          children: \"Forgot Passowrd\"\n        })\n      })]\n    }), _jsx(StatusBar, {\n      style: \"auto\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#11b8f5\",\n    justifyContent: \"center\",\n    padding: 20,\n    display: \"flex\"\n  },\n  top_section: {},\n  bottom_section: {\n    backgroundColor: \"#fff\",\n    marginTop: 20,\n    padding: 10,\n    borderRadius: 10\n  },\n  logo: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    borderRadius: 50\n  },\n  header: {\n    textAlign: \"center\",\n    fontSize: 25,\n    fontWeight: \"bold\"\n  },\n  msg: {\n    textAlign: \"center\",\n    fontSize: 17\n  },\n  text_box: {\n    backgroundColor: \"#a7a7a7\",\n    color: \"#000\",\n    borderRadius: 10,\n    height: 45,\n    padding: 10,\n    margin: 10,\n    fontSize: 16\n  },\n  Sign_in_btn: {\n    backgroundColor: \"#f00\",\n    height: 50,\n    width: 180,\n    margin: 3,\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    borderRadius: 15,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  btn_label: {\n    fontWeight: \"bold\",\n    fontSize: 15,\n    color: \"#fff\"\n  },\n  forgot_btn_label: {\n    fontWeight: \"100\",\n    fontSize: 15,\n    color: \"#59d3ff\",\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["StatusBar","React","useEffect","useState","AsyncStorage","logo","require","Login","navigation","username","username_chg","password","password_chg","login_submit","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","res","message","setItem","data","id","navigate","console","log","catch","error","storage_userid","getItem","styles","container","top_section","bottom_section","header","msg","text_box","new_username","new_password","Sign_in_btn","btn_label","forgot_btn","forgot_btn_label","StyleSheet","create","flex","backgroundColor","justifyContent","padding","display","marginTop","borderRadius","marginLeft","marginRight","textAlign","fontSize","fontWeight","color","height","margin","width","alignItems"],"sources":["/home/panda/Desktop/Clients/Jaja or Junior/android-expo-app/client/screens/Login.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  Image,\n} from \"react-native\";\nimport { React, useEffect, useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst logo = require(\"../assets/img/logo.png\");\nexport default function Login({ navigation }) {\n  const [username, username_chg] = useState(\"\");\n  const [password, password_chg] = useState(\"\");\n  \n  const login_submit = async (username, password) => {\n    await fetch(\"http://192.168.0.158:3000/user/login\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password,\n      }),\n    })\n      .then(async (response) => {\n        let res = await response.json();\n        if (res.message == \"Success\") {\n          try {\n            await AsyncStorage.setItem('@user_id', res.data.id)\n            username_chg(\"\")\n            password_chg(\"\")\n            navigation.navigate(\"Dashboard\");\n          } catch (e) {\n            // saving error\n          }\n        } else if (res.message == \"Fail\") console.log(\"Fail\");\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n  useEffect(() => {\n     const storage_userid = async () => {\n    try {\n      return await AsyncStorage.getItem(\"@user_id\");\n    } catch (e) {\n      console.log(e)\n      return null\n    }\n  };\n  }, []);\n  return (\n    <View style={styles.container}>\n      <View style={styles.top_section}>\n        <Image source={logo} style={styles.logo} />\n      </View>\n      <View style={styles.bottom_section}>\n        <Text style={styles.header}>LOGIN</Text>\n        <Text style={styles.msg}>\n          Please enter your login detail down below.\n        </Text>\n        <TextInput\n          style={styles.text_box}\n          placeholder=\"Username\"\n          defaultValue={username}\n          onChangeText={(new_username) => username_chg(new_username)}\n        />\n        <TextInput\n          style={styles.text_box}\n          placeholder=\"Passowrd\"\n          defaultValue={password}\n          onChangeText={(new_password) => password_chg(new_password)}\n          secureTextEntry={true}\n        />\n        <TouchableOpacity\n          style={styles.Sign_in_btn}\n          onPress={() => login_submit(username, password)}\n        >\n          <Text style={styles.btn_label}>LOGIN</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.Sign_in_btn}\n          onPress={() => navigation.navigate(\"CreateAccount\")}\n        >\n          <Text style={styles.btn_label}>CREATE ACCOUNT</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.forgot_btn}>\n          <Text style={styles.forgot_btn_label}>Forgot Passowrd</Text>\n        </TouchableOpacity>\n      </View>\n      <StatusBar style=\"auto\" />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#11b8f5\",\n    justifyContent: \"center\",\n    padding: 20,\n    display: \"flex\",\n  },\n  top_section: {\n    // backgroundColor: \"\",\n  },\n  bottom_section: {\n    backgroundColor: \"#fff\",\n    marginTop: 20,\n    padding: 10,\n    borderRadius: 10,\n  },\n  logo: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    borderRadius: 50,\n  },\n  header: {\n    textAlign: \"center\",\n    fontSize: 25,\n    fontWeight: \"bold\",\n  },\n  msg: {\n    textAlign: \"center\",\n    fontSize: 17,\n  },\n  text_box: {\n    backgroundColor: \"#a7a7a7\",\n    color: \"#000\",\n    borderRadius: 10,\n    height: 45,\n    padding: 10,\n    margin: 10,\n    fontSize: 16,\n  },\n  Sign_in_btn: {\n    backgroundColor: \"#f00\",\n    height: 50,\n    width: 180,\n    margin: 3,\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    borderRadius: 15,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  btn_label: {\n    fontWeight: \"bold\",\n    fontSize: 15,\n    color: \"#fff\",\n  },\n  forgot_btn_label: {\n    fontWeight: \"100\",\n    fontSize: 15,\n    color: \"#59d3ff\",\n    textAlign: \"center\",\n  },\n});\n"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,iBAA1B;;;;;;;AASA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,2CAAzB;;;;AAEA,IAAMC,IAAI,GAAGC,OAAO,0BAApB;;AACA,eAAe,SAASC,KAAT,OAA+B;EAAA,IAAdC,UAAc,QAAdA,UAAc;;EAC5C,gBAAiCL,QAAQ,CAAC,EAAD,CAAzC;EAAA;EAAA,IAAOM,QAAP;EAAA,IAAiBC,YAAjB;;EACA,iBAAiCP,QAAQ,CAAC,EAAD,CAAzC;EAAA;EAAA,IAAOQ,QAAP;EAAA,IAAiBC,YAAjB;;EAEA,IAAMC,YAAY,GAAG,kBAAOJ,QAAP,EAAiBE,QAAjB;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACbG,KAAK,CAAC,sCAAD,EAAyC;cAClDC,MAAM,EAAE,MAD0C;cAElDC,OAAO,EAAE;gBACPC,MAAM,EAAE,kBADD;gBAEP,gBAAgB;cAFT,CAFyC;cAMlDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;gBACnBX,QAAQ,EAAEA,QADS;gBAEnBE,QAAQ,EAAEA;cAFS,CAAf;YAN4C,CAAzC,CAAL,CAWHU,IAXG,CAWE,iBAAOC,QAAP;cAAA;cAAA;gBAAA;kBAAA;oBAAA;sBAAA;sBAAA,iCACYA,QAAQ,CAACC,IAAT,EADZ;;oBAAA;sBACAC,GADA;;sBAAA,MAEAA,GAAG,CAACC,OAAJ,IAAe,SAFf;wBAAA;wBAAA;sBAAA;;sBAAA;sBAAA;sBAAA,iCAIMrB,YAAY,CAACsB,OAAb,CAAqB,UAArB,EAAiCF,GAAG,CAACG,IAAJ,CAASC,EAA1C,CAJN;;oBAAA;sBAKAlB,YAAY,CAAC,EAAD,CAAZ;sBACAE,YAAY,CAAC,EAAD,CAAZ;sBACAJ,UAAU,CAACqB,QAAX,CAAoB,WAApB;sBAPA;sBAAA;;oBAAA;sBAAA;sBAAA;;oBAAA;sBAAA;sBAAA;;oBAAA;sBAWG,IAAIL,GAAG,CAACC,OAAJ,IAAe,MAAnB,EAA2BK,OAAO,CAACC,GAAR,CAAY,MAAZ;;oBAX9B;oBAAA;sBAAA;kBAAA;gBAAA;cAAA;YAAA,CAXF,EAwBHC,KAxBG,CAwBG,UAACC,KAAD,EAAW;cAChBH,OAAO,CAACG,KAAR,CAAcA,KAAd;YACD,CA1BG,CADa;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAArB;;EA6BA/B,SAAS,CAAC,YAAM;IACb,IAAMgC,cAAc,GAAG;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAET9B,YAAY,CAAC+B,OAAb,CAAqB,UAArB,CAFS;;YAAA;cAAA;;YAAA;cAAA;cAAA;cAItBL,OAAO,CAACC,GAAR;cAJsB,kCAKf,IALe;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAvB;EAQF,CATQ,EASN,EATM,CAAT;EAUA,OACE,MAAC,IAAD;IAAM,KAAK,EAAEK,MAAM,CAACC,SAApB;IAAA,WACE,KAAC,IAAD;MAAM,KAAK,EAAED,MAAM,CAACE,WAApB;MAAA,UACE,KAAC,KAAD;QAAO,MAAM,EAAEjC,IAAf;QAAqB,KAAK,EAAE+B,MAAM,CAAC/B;MAAnC;IADF,EADF,EAIE,MAAC,IAAD;MAAM,KAAK,EAAE+B,MAAM,CAACG,cAApB;MAAA,WACE,KAAC,IAAD;QAAM,KAAK,EAAEH,MAAM,CAACI,MAApB;QAAA;MAAA,EADF,EAEE,KAAC,IAAD;QAAM,KAAK,EAAEJ,MAAM,CAACK,GAApB;QAAA;MAAA,EAFF,EAKE,KAAC,SAAD;QACE,KAAK,EAAEL,MAAM,CAACM,QADhB;QAEE,WAAW,EAAC,UAFd;QAGE,YAAY,EAAEjC,QAHhB;QAIE,YAAY,EAAE,sBAACkC,YAAD;UAAA,OAAkBjC,YAAY,CAACiC,YAAD,CAA9B;QAAA;MAJhB,EALF,EAWE,KAAC,SAAD;QACE,KAAK,EAAEP,MAAM,CAACM,QADhB;QAEE,WAAW,EAAC,UAFd;QAGE,YAAY,EAAE/B,QAHhB;QAIE,YAAY,EAAE,sBAACiC,YAAD;UAAA,OAAkBhC,YAAY,CAACgC,YAAD,CAA9B;QAAA,CAJhB;QAKE,eAAe,EAAE;MALnB,EAXF,EAkBE,KAAC,gBAAD;QACE,KAAK,EAAER,MAAM,CAACS,WADhB;QAEE,OAAO,EAAE;UAAA,OAAMhC,YAAY,CAACJ,QAAD,EAAWE,QAAX,CAAlB;QAAA,CAFX;QAAA,UAIE,KAAC,IAAD;UAAM,KAAK,EAAEyB,MAAM,CAACU,SAApB;UAAA;QAAA;MAJF,EAlBF,EAwBE,KAAC,gBAAD;QACE,KAAK,EAAEV,MAAM,CAACS,WADhB;QAEE,OAAO,EAAE;UAAA,OAAMrC,UAAU,CAACqB,QAAX,CAAoB,eAApB,CAAN;QAAA,CAFX;QAAA,UAIE,KAAC,IAAD;UAAM,KAAK,EAAEO,MAAM,CAACU,SAApB;UAAA;QAAA;MAJF,EAxBF,EA8BE,KAAC,gBAAD;QAAkB,KAAK,EAAEV,MAAM,CAACW,UAAhC;QAAA,UACE,KAAC,IAAD;UAAM,KAAK,EAAEX,MAAM,CAACY,gBAApB;UAAA;QAAA;MADF,EA9BF;IAAA,EAJF,EAsCE,KAAC,SAAD;MAAW,KAAK,EAAC;IAAjB,EAtCF;EAAA,EADF;AA0CD;AAED,IAAMZ,MAAM,GAAGa,UAAU,CAACC,MAAX,CAAkB;EAC/Bb,SAAS,EAAE;IACTc,IAAI,EAAE,CADG;IAETC,eAAe,EAAE,SAFR;IAGTC,cAAc,EAAE,QAHP;IAITC,OAAO,EAAE,EAJA;IAKTC,OAAO,EAAE;EALA,CADoB;EAQ/BjB,WAAW,EAAE,EARkB;EAW/BC,cAAc,EAAE;IACda,eAAe,EAAE,MADH;IAEdI,SAAS,EAAE,EAFG;IAGdF,OAAO,EAAE,EAHK;IAIdG,YAAY,EAAE;EAJA,CAXe;EAiB/BpD,IAAI,EAAE;IACJqD,UAAU,EAAE,MADR;IAEJC,WAAW,EAAE,MAFT;IAGJF,YAAY,EAAE;EAHV,CAjByB;EAsB/BjB,MAAM,EAAE;IACNoB,SAAS,EAAE,QADL;IAENC,QAAQ,EAAE,EAFJ;IAGNC,UAAU,EAAE;EAHN,CAtBuB;EA2B/BrB,GAAG,EAAE;IACHmB,SAAS,EAAE,QADR;IAEHC,QAAQ,EAAE;EAFP,CA3B0B;EA+B/BnB,QAAQ,EAAE;IACRU,eAAe,EAAE,SADT;IAERW,KAAK,EAAE,MAFC;IAGRN,YAAY,EAAE,EAHN;IAIRO,MAAM,EAAE,EAJA;IAKRV,OAAO,EAAE,EALD;IAMRW,MAAM,EAAE,EANA;IAORJ,QAAQ,EAAE;EAPF,CA/BqB;EAwC/BhB,WAAW,EAAE;IACXO,eAAe,EAAE,MADN;IAEXY,MAAM,EAAE,EAFG;IAGXE,KAAK,EAAE,GAHI;IAIXD,MAAM,EAAE,CAJG;IAKXP,UAAU,EAAE,MALD;IAMXC,WAAW,EAAE,MANF;IAOXF,YAAY,EAAE,EAPH;IAQXF,OAAO,EAAE,MARE;IASXF,cAAc,EAAE,QATL;IAUXc,UAAU,EAAE;EAVD,CAxCkB;EAoD/BrB,SAAS,EAAE;IACTgB,UAAU,EAAE,MADH;IAETD,QAAQ,EAAE,EAFD;IAGTE,KAAK,EAAE;EAHE,CApDoB;EAyD/Bf,gBAAgB,EAAE;IAChBc,UAAU,EAAE,KADI;IAEhBD,QAAQ,EAAE,EAFM;IAGhBE,KAAK,EAAE,SAHS;IAIhBH,SAAS,EAAE;EAJK;AAzDa,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}